## 最基础的模型之一，解决评价类问题
例如：选择哪种方案最好、哪位运 动员或者员工表现的更优秀
## 模型介绍
### 评价类问题
1. 我们评价目标
2. 达到评价目标可选的方案
3. 评价的准则或指标，根据什么来评价好坏
*通过打分的方法来解决，根据权重表格计算得分*      tip虫部落‐快搜 ： https://search.chongbuluo.com/
* 如何根据权重计算打分
若有A,B,C三个指标，分别对其确定指标权重(按自己喜好分配)，再对方案分配权重
![[VJ2947Z6~8TXKJXB9CQ]H$W.png]]
### 层次分析法思想
*两两因素比较时，一个因素对另一个因素的重要性，可以用标度来表示(查找数据定义)*
- 判断矩阵
	1.当i=j时，两个标度相同 
	2.当aij>0且满足aij x aji=1，这一矩阵称为正互反矩阵
	  *在填写判断矩阵时可能会出现方案的排序的矛盾(A>B,B>C,但可能C>A)*
- 一致矩阵
	一致矩阵的出现就是解决上面的问题
	![[H`KC%K9VXC3CF0N8`OZ7C2I.png]]
	*其特点是行或列成倍数* (后面的修正也是尽可能往成倍数去靠)
	在层次分析法中，我们构造的判断矩阵是正互反矩阵
	若正互反矩阵满足aij x ajk=aik，称*为一致矩阵*
	使用判断矩阵求权重前，要进行*一致性检验*

- 一致性检验
	原理：检验我们构造的判断矩阵和一致矩阵是否有太大的差别。
	步骤：
	1. 计算一致性指标CI   CI=(入max-n)/n-1
	2. 查找对应的平均随机一致性指标RI
	3. 计算一致性比例CR   CR=CI/RI
	 CR<0.1,判断矩阵一致，反之
	两个问题：
	1. 平均随机一致性指标RI怎么计算来的？
	2. 为什么要这样构造CI，为什么要以0.1为划分依据？

- 一致矩阵怎么计算权重
	归一化处理
	1. 算数平均法求权重
	![[O(WCM{6}2MSPMY`O0J{`{BY.png]]
	 2. 几何平均法求权重
	 3. 特征值求权重
	最后的到得分进行比较即可

- 将分析过程图像可视化
	构造判断矩阵，过程分析图
### 如何作图
1. ppt的samrtaart生成
2. 亿图图示(专业软件)

### 一些局限性
1. 评价的决策层不能太多，太多的话n会很大，判断矩阵和一致矩阵差异
可能会很大。
2. 如果决策层中指标的数据是已知的，那么我们如何利用这些数据来使得
评价的更加准确呢？
## 计算的代码
### 基础代码
- 一些符号
	字符串strcat()，向量【】 ，换行；清除命令行clc
- disp和input函数
	disp表示输出，input表示输入(前面赋予变量)
	disp(A)*；* 和disp(A)输出结果一样，其他函数后加；不进行运算
- sum函数
	sum(A)，sum(A，1)，sum(A，2)，分别表示对矩阵列求和，行求和，得到行向量，列向量
	求矩阵所有元素和sum(sum(E))
- prod函数
	prod函数与sum函数相似，prod函数用于矩阵元素按行列相乘
- 在矩阵中取元素或者子矩阵
	A为5x5矩阵，取第二行和第五行矩阵A([2,5],:)(向量中只有两个元素)，取第二行到第五行矩阵A(2:5,:)或A(2:1:5,:)
	说明 A(起始:步长:终止

- num2str函数
	数字转为字符串
	c = 100
	num2str(c)

- 矩阵的乘除，点乘点除
	A*B A.*B

### 层次分析法
- 算数平均法求权重
	- 确定是几阶方阵
		[n,n] = size(A)或 n =size(A,1) 按行返回值，确定是几阶方阵
	- 归一化处理
	- 复制矩阵 repmat函数
		repmat(A,n,1) 将A矩阵复制为nx1阶矩阵
		利用for循环
	- 两个矩阵点除
	- 行相加除n
- 几何平均法求权重
	- 行相乘
	- 开n次
	- 点除
- 特征值求
	【V,D】 = eig（A），D为特征值

